@using Microsoft.AspNetCore.Identity
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

<ul class="navbar-nav">
@if (SignInManager.IsSignedIn(User))
{

    <li class="nav-item">

            <div style="margin-left:auto;">

                    <div class="dropdown ">
                        <button class="btn rounded-circle dropdown" type="button" id="dropdownPostButton"
                                data-bs-toggle="dropdown" aria-expanded="false">

                        <b>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-app-indicator" viewBox="0 0 16 16">
                                <path d="M5.5 2A3.5 3.5 0 0 0 2 5.5v5A3.5 3.5 0 0 0 5.5 14h5a3.5 3.5 0 0 0 3.5-3.5V8a.5.5 0 0 1 1 0v2.5a4.5 4.5 0 0 1-4.5 4.5h-5A4.5 4.5 0 0 1 1 10.5v-5A4.5 4.5 0 0 1 5.5 1H8a.5.5 0 0 1 0 1z" />
                                <path d="M16 3a3 3 0 1 1-6 0 3 3 0 0 1 6 0" />
                            </svg>
                              </b>
                        </button>


                        <ul class="dropdown-menu flex-column gap-1 p-1" style="min-width: max-content;" aria-labelledby="dropdownPostButton">
                            <li>
                                <a class="btn btn-outline-primary" asp-controller="Notifications" asp-action="Index" asp-route-userId="@UserManager.GetUserId(User)">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bell" viewBox="0 0 16 16">
                                        <path d="M8 16a2 2 0 0 0 1.985-1.75h-3.97A2 2 0 0 0 8 16zm6-6a5.978 5.978 0 0 1-1-3.25V5a6 6 0 1 0-12 0v1.75A5.978 5.978 0 0 1 2 10a1 1 0 0 0-.883.993v.516a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.516A1 1 0 0 0 14 10zm-6-9a4 4 0 0 1 4 4v1.75c0 .69.125 1.347.351 1.948l.1.214H3.55l.1-.214c.226-.601.351-1.258.351-1.948V5a4 4 0 0 1 4-4z" />
                                    </svg> Notifications
                                </a>
                            </li>
                            <li>
                                <a class="btn btn-outline-primary" asp-controller="Groups" asp-action="YourGroups">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-people-fill" viewBox="0 0 16 16">
                                        <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6m-5.784 6A2.24 2.24 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.3 6.3 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1zM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5" />
                                    </svg> Group requests
                                </a>
                            </li>
                            <li>
                                <a class="btn btn-outline-primary" asp-controller="Follows" asp-action="UserRequests">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-add" viewBox="0 0 16 16">
                                        <path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m.5-5v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 1 0m-2-6a3 3 0 1 1-6 0 3 3 0 0 1 6 0M8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4" />
                                        <path d="M8.256 14a4.5 4.5 0 0 1-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484 10.68 5.711 10 8 10q.39 0 .74.025c.226-.341.496-.65.804-.918Q8.844 9.002 8 9c-5 0-6 3-6 4s1 1 1 1z" />
                                    </svg> Follow requests
                                </a>
                            </li>
                        </ul>

                    </div>

            </div>

    </li>

    <li class="nav-item">
            <a class="nav-link text-dark" asp-controller="Profiles" asp-action="Show" asp-route-id="@UserManager.GetUserId(User)"> My Profile</a>
    </li>
    <li class="nav-item">
        <form  class="form-inline" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
            <button  type="submit" class="nav-link btn btn-link text-dark">Logout</button>
        </form>
    </li>
}
else
{
    <li class="nav-item">
        <a class="nav-link text-dark" asp-area="Identity" asp-page="/Account/Register">Register</a>
    </li>
    <li class="nav-item">
        <a class="nav-link text-dark" asp-area="Identity" asp-page="/Account/Login">Login</a>
    </li>
}
</ul>
